{"version":3,"sources":["webpack:///./src/app/tab1/tab1.module.ts","webpack:///./src/app/tab1/tab1.page.html","webpack:///./src/app/tab1/tab1.page.scss","webpack:///./src/app/tab1/tab1.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAA6C;AACE;AACN;AACM;AACF;AACN;AAWvC;IAAA;IAA6B,CAAC;IAAjB,cAAc;QAT1B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,0DAAW;gBACX,4DAAY;gBACZ,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,mDAAQ,EAAE,CAAC,CAAC;aAC3D;YACD,YAAY,EAAE,CAAC,mDAAQ,CAAC;SACzB,CAAC;OACW,cAAc,CAAG;IAAD,qBAAC;CAAA;AAAH;;;;;;;;;;;;AChB3B,+kBAA+kB,aAAa,yBAAyB,oCAAoC,gI;;;;;;;;;;;ACAzpB,yCAAyC,qBAAqB,qBAAqB,EAAE,+CAA+C,mX;;;;;;;;;;;;;;;;;;;;;;ACAtF;AACL;AACoE;AAChD;AACR;AACN;AAE/C,IAAM,eAAe,GAAG,YAAY,CAAC;AAQrC;IAII,kBAAmB,OAAsB,EAAU,YAA0B,EAAU,OAAgB,EAAU,IAAU,EAAU,KAAY;QAA9H,YAAO,GAAP,OAAO,CAAe;QAAU,iBAAY,GAAZ,YAAY,CAAc;QAAU,YAAO,GAAP,OAAO,CAAS;QAAU,SAAI,GAAJ,IAAI,CAAM;QAAU,UAAK,GAAL,KAAK,CAAO;QAHjJ,eAAU,GAAG,EAAE,CAAC;IAGqI,CAAC;IAEtJ,iCAAc,GAAd;QAAA,iBAIC;QAHG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,aAAG;YACtC,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;QAC5C,CAAC,CAAC;IACN,CAAC;IAED,+BAAY,GAAZ;QAAA,iBAIC;QAHG,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,aAAG;YACrC,KAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;QAC9B,CAAC,EAAE,UAAC,GAAiB,IAAK,cAAO,CAAC,KAAK,CAAC,GAAG,CAAC,EAAlB,CAAkB,CAAC,CAAC;IAClD,CAAC;IAED,+BAAY,GAAZ;QAAA,iBAoBC;QAnBG,IAAI,OAAO,GAAwB;YAC/B,KAAK,EAAE,CAAC;YACR,QAAQ,EAAE,EAAE;SACf;QACD,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,UAAC,GAAgB;YAC1D,IAAI,YAAY,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;YAC1B,IAAI,QAAQ,GAAG,YAAY,CAAC,IAAI,CAAC;YACjC,IAAI,GAAG,GAAG,YAAY,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAC9C,GAAG,CAAC,GAAG,EAAE,CAAC;YACV,IAAI,aAAa,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAClC,IAAI,WAAW,GAAG,KAAI,CAAC,IAAI,CAAC,aAAa,CAAC;YAE1C,KAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE,QAAQ,EAAE,WAAW,EAAE,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;gBACxE,KAAI,CAAC,eAAe,CAAC,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,YAAY,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;YACxE,CAAC,EAAE,aAAG;gBACF,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;YAC9B,CAAC,CAAC,CAAC;QACP,CAAC,EACG,UAAC,GAAiB,IAAK,cAAO,CAAC,KAAK,CAAC,GAAG,CAAC,EAAlB,CAAkB,CAAC,CAAC;IACnD,CAAC;IAED,uBAAI,GAAJ,UAAK,MAAM;QACP,IAAI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE;YAClC,IAAM,SAAS,GAAgB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YAClE,SAAS,CAAC,IAAI,EAAE,CAAC;SACpB;aAAM;YACH,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,IAAI,CAAC;YACjD,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC;YACzC,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;YACvC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC;YAChB,KAAK,CAAC,IAAI,EAAE,CAAC;SAChB;IACL,CAAC;IAED,kCAAe,GAAf,UAAgB,KAAK;QAArB,iBAWC;QAVG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,aAAG;YACtC,IAAI,GAAG,EAAE;gBACL,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAC1B,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;gBACxB,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;aAC1D;iBAAM;gBACH,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;aAC3D;YACD,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QACpD,CAAC,CAAC;IACN,CAAC;IA9DqB;QAArB,+DAAS,CAAC,SAAS,CAAC;;6CAAc;IAF1B,QAAQ;QALpB,+DAAS,CAAC;YACP,QAAQ,EAAE,UAAU;YACpB,sFAA6B;;SAEhC,CAAC;+EAK8B,4DAAa,EAAwB,4EAAY,EAAmB,sDAAO,EAAgB,2DAAI,EAAiB,6DAAK;OAJxI,QAAQ,CAkEpB;IAAD,eAAC;CAAA;AAlEoB","file":"tab1-tab1-module.js","sourcesContent":["import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab1Page } from './tab1.page';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    RouterModule.forChild([{ path: '', component: Tab1Page }])\n  ],\n  declarations: [Tab1Page]\n})\nexport class Tab1PageModule {}\n","module.exports = \"<ion-header>\\n      <ion-title>\\n            Ionic Media Capture\\n      </ion-title>\\n</ion-header>\\n\\n<ion-content>\\n      <ion-row>\\n            <ion-col>\\n                  <button ion-button full (click)=\\\"captureAudio()\\\">Capture Audio</button>\\n            </ion-col>\\n            <ion-col>\\n                  <button ion-button full (click)=\\\"captureVideo()\\\">Capture Video</button>\\n            </ion-col>\\n      </ion-row>\\n\\n      <ion-list>\\n            <ion-item *ngFor=\\\"let file of mediaFiles\\\" tappable (click)=\\\"play(file)\\\" text-wrap>\\n                  {{ file.name }}\\n                  <p>{{ file.size / 1000 / 1000 | number }} MB</p>\\n            </ion-item>\\n      </ion-list>\\n\\n      <video controls autoplay #myvideo>\\n      </video>\\n</ion-content>\"","module.exports = \".welcome-card ion-img {\\n  max-height: 35vh;\\n  overflow: hidden; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2ZhYmlhbi9Jb25pYzQvUHJ1ZWJhL3NyYy9hcHAvdGFiMS90YWIxLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFnQjtFQUNoQixnQkFBZ0IsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3RhYjEvdGFiMS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIud2VsY29tZS1jYXJkIGlvbi1pbWcge1xuICBtYXgtaGVpZ2h0OiAzNXZoO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuIl19 */\"","import { File } from '@ionic-native/file/ngx';\nimport { Storage } from '@ionic/storage';\nimport { MediaCapture, MediaFile, CaptureVideoOptions, CaptureError } from '@ionic-native/media-capture/ngx';\nimport { Media, MediaObject } from '@ionic-native/media/ngx';\nimport { Component, ViewChild } from '@angular/core';\nimport { NavController } from '@ionic/angular';\n\nconst MEDIA_FILES_KEY = 'mediaFiles';\n\n\n@Component({\n    selector: 'app-tab1',\n    templateUrl: 'tab1.page.html',\n    styleUrls: ['tab1.page.scss']\n})\nexport class Tab1Page {\n    mediaFiles = [];\n    @ViewChild('myvideo') myVideo: any;\n\n    constructor(public navCtrl: NavController, private mediaCapture: MediaCapture, private storage: Storage, private file: File, private media: Media) { }\n\n    ionViewDidLoad() {\n        this.storage.get(MEDIA_FILES_KEY).then(res => {\n            this.mediaFiles = JSON.parse(res) || [];\n        })\n    }\n\n    captureAudio() {\n        this.mediaCapture.captureAudio().then(res => {\n            this.storeMediaFiles(res);\n        }, (err: CaptureError) => console.error(err));\n    }\n\n    captureVideo() {\n        let options: CaptureVideoOptions = {\n            limit: 1,\n            duration: 30\n        }\n        this.mediaCapture.captureVideo(options).then((res: MediaFile[]) => {\n            let capturedFile = res[0];\n            let fileName = capturedFile.name;\n            let dir = capturedFile['localURL'].split('/');\n            dir.pop();\n            let fromDirectory = dir.join('/');\n            var toDirectory = this.file.dataDirectory;\n\n            this.file.copyFile(fromDirectory, fileName, toDirectory, fileName).then((res) => {\n                this.storeMediaFiles([{ name: fileName, size: capturedFile.size }]);\n            }, err => {\n                console.log('err: ', err);\n            });\n        },\n            (err: CaptureError) => console.error(err));\n    }\n\n    play(myFile) {\n        if (myFile.name.indexOf('.wav') > -1) {\n            const audioFile: MediaObject = this.media.create(myFile.localURL);\n            audioFile.play();\n        } else {\n            let path = this.file.dataDirectory + myFile.name;\n            let url = path.replace(/^file:\\/\\//, '');\n            let video = this.myVideo.nativeElement;\n            video.src = url;\n            video.play();\n        }\n    }\n\n    storeMediaFiles(files) {\n        this.storage.get(MEDIA_FILES_KEY).then(res => {\n            if (res) {\n                let arr = JSON.parse(res);\n                arr = arr.concat(files);\n                this.storage.set(MEDIA_FILES_KEY, JSON.stringify(arr));\n            } else {\n                this.storage.set(MEDIA_FILES_KEY, JSON.stringify(files))\n            }\n            this.mediaFiles = this.mediaFiles.concat(files);\n        })\n    }\n\n}\n"],"sourceRoot":""}